<div class="w-layout-blockcontainer container_l w-container" style="background:var(--color--lilac-medium)" id="locations">
    <div class="w-layout-vflex spacing_2">
      <div class="grid_2col spacing_2 split-container">
        {% for block in section.blocks %}
          <a href="{{ block.settings.link }}" class="w-layout-vflex spacing_2">
            <div style="position:relative">
              {% if block.settings.image %}
                <img 
                  class="sustainability_card is-image" 
                  style="aspect-ratio:1/1"
                  src="{{ block.settings.image | img_url: 'master' }}"
                  alt="{{ block.settings.image.alt }}"
                  width="100%" 
                  height="100%" 
                  loading="lazy"
                >
              {% endif %}
            </div>
            <div class="w-layout-vflex" style="gap:0.5rem">
              <h3 class="text-size-medium text-weight-bold">
                {{ block.settings.heading }}
              </h3>
              <div>
                {{ block.settings.address }}
              </div>
            </div>
          </a>
        {% endfor %}
      </div>
    </div>
  </div>
  
  {% schema %}
  {
    "name": "Locations",
    "max_blocks": 8,
    "settings": [
      {
        "type": "text",
        "id": "section_heading",
        "label": "Section Heading",
        "default": "Our Locations"
      }
    ],
    "blocks": [
      {
        "type": "location",
        "name": "Location",
        "settings": [
          {
            "type": "image_picker",
            "id": "image",
            "label": "Location Image"
          },
          {
            "type": "text",
            "id": "heading",
            "label": "Location Name",
            "default": "Location Name"
          },
          {
            "type": "richtext",
            "id": "address",
            "label": "Address",
            "default": "<p>Enter location address here</p>"
          },
          {
            "type": "url",
            "id": "link",
            "label": "Link URL"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Locations",
        "category": "Content",
        "blocks": [
          {
            "type": "location"
          }
        ]
      }
    ]
  }
  {% endschema %}